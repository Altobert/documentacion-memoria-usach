# Diagrama de Flujo - Pipeline Normativos SII

## ๐ Flujo de Operaciรณn del Sistema Batch

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                           PIPELINE NORMATIVOS SII                              โ
โ                         Sistema de Indexaciรณn Automatizada                     โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                                        โ
                                        โผ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                                INICIO DEL SISTEMA                              โ
โ  ./start.sh โ Verificaciรณn โ Compilaciรณn โ Inicio โ Pruebas Automรกticas      โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                                        โ
                                        โผ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                              PROCESO DE INDEXACIรN                             โ
โ                                                                                 โ
โ  โโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโ     โ
โ  โ   Escaneo   โโโโโถโ  Procesamiento โโโโโถโ Extracciรณn  โโโโโถโ  Indexaciรณn โ     โ
โ  โ Directorio  โ    โ   en Chunks   โ    โ   Texto     โ    โ   Lucene    โ     โ
โ  โ (104 PDFs)  โ    โ   (10 arch.)  โ    โ  (PDFBox)   โ    โ (รndice Inv.)โ     โ
โ  โโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโ     โ
โ                                                                                 โ
โ  โโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโ     โ
โ  โ   Logging   โ    โ   Manejo de  โ    โ Estadรญsticas โ    โ Validaciรณn  โ     โ
โ  โ Detallado   โ    โ   Errores    โ    โ Procesamientoโ    โ Integridad  โ     โ
โ  โโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโ     โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                                        โ
                                        โผ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                              SISTEMA OPERATIVO                                 โ
โ                                                                                 โ
โ  โโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโ     โ
โ  โ   API REST  โ    โ   Swagger    โ    โ Health      โ    โ Monitoreo   โ     โ
โ  โ (Puerto     โ    โ     UI       โ    โ Checks      โ    โ Logs        โ     โ
โ  โ   8081)     โ    โ              โ    โ             โ    โ             โ     โ
โ  โโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโ     โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                                        โ
                                        โผ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                              CAPACIDADES DE BรSQUEDA                           โ
โ                                                                                 โ
โ  โโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโ     โ
โ  โ Bรบsqueda    โโโโโถโ Procesamientoโโโโโถโ Ranking por โโโโโถโ Resultados  โ     โ
โ  โ Full-Text   โ    โ   Consulta   โ    โ Relevancia  โ    โ Estructuradosโ     โ
โ  โ             โ    โ              โ    โ             โ    โ             โ     โ
โ  โโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโ     โ
โ                                                                                 โ
โ  โโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโ     โ
โ  โ Snippets    โ    โ Filtros por โ    โ Paginaciรณn  โ    โ Metadatos   โ     โ
โ  โ Texto       โ    โ Metadatos    โ    โ Resultados  โ    โ Documentos  โ     โ
โ  โโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโ     โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

## ๐ฏ Flujo de Comandos de Usuario

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                              COMANDOS DE USUARIO                                โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                                        โ
                    โโโโโโโโโโโโโโโโโโโโโผโโโโโโโโโโโโโโโโโโโโ
                    โ                   โ                   โ
                    โผ                   โผ                   โผ
        โโโโโโโโโโโโโโโโโโโ  โโโโโโโโโโโโโโโโโโโ  โโโโโโโโโโโโโโโโโโโ
        โ   Inicio       โ  โ   Indexaciรณn    โ  โ   Bรบsqueda      โ
        โ   Sistema       โ  โ   Documentos    โ  โ   Contenido     โ
        โ                 โ  โ                 โ  โ                 โ
        โ ./start.sh      โ  โ POST /api/batch โ  โ GET /api/indexingโ
        โ                 โ  โ /index-documentsโ โ /search?query=  โ
        โโโโโโโโโโโโโโโโโโโ  โโโโโโโโโโโโโโโโโโโ  โโโโโโโโโโโโโโโโโโโ
                    โ                   โ                   โ
                    โผ                   โผ                   โผ
        โโโโโโโโโโโโโโโโโโโ  โโโโโโโโโโโโโโโโโโโ  โโโโโโโโโโโโโโโโโโโ
        โ Verificaciรณn    โ  โ Procesamiento   โ  โ Resultados      โ
        โ Prerrequisitos  โ  โ Masivo          โ  โ Estructurados    โ
        โ Compilaciรณn     โ  โ Logging         โ  โ Snippets        โ
        โ Inicio App      โ  โ Estadรญsticas    โ  โ Ranking         โ
        โ Pruebas Auto    โ  โ Manejo Errores  โ  โ Metadatos       โ
        โโโโโโโโโโโโโโโโโโโ  โโโโโโโโโโโโโโโโโโโ  โโโโโโโโโโโโโโโโโโโ
```

## ๐ง Flujo de Administraciรณn

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                            ADMINISTRACIรN DEL SISTEMA                          โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                                        โ
                    โโโโโโโโโโโโโโโโโโโโโผโโโโโโโโโโโโโโโโโโโโ
                    โ                   โ                   โ
                    โผ                   โผ                   โผ
        โโโโโโโโโโโโโโโโโโโ  โโโโโโโโโโโโโโโโโโโ  โโโโโโโโโโโโโโโโโโโ
        โ   Detenciรณn     โ  โ   Monitoreo     โ  โ   Mantenimiento โ
        โ   Sistema       โ  โ   Estado        โ  โ   รndice        โ
        โ                 โ  โ                 โ  โ                 โ
        โ ./stop.sh       โ  โ ./comandos_utilesโ โ Re-indexaciรณn  โ
        โ ./kill-app.sh   โ  โ .sh status      โ  โ Optimizaciรณn    โ
        โโโโโโโโโโโโโโโโโโโ  โโโโโโโโโโโโโโโโโโโ  โโโโโโโโโโโโโโโโโโโ
                    โ                   โ                   โ
                    โผ                   โผ                   โผ
        โโโโโโโโโโโโโโโโโโโ  โโโโโโโโโโโโโโโโโโโ  โโโโโโโโโโโโโโโโโโโ
        โ Liberaciรณn      โ  โ Verificaciรณn    โ  โ Limpieza        โ
        โ Puerto 8081     โ  โ Procesos        โ  โ Logs Antiguos   โ
        โ Limpieza        โ  โ Health Checks   โ  โ Actualizaciรณn   โ
        โ Procesos        โ  โ Mรฉtricas        โ  โ Seguridad       โ
        โโโโโโโโโโโโโโโโโโโ  โโโโโโโโโโโโโโโโโโโ  โโโโโโโโโโโโโโโโโโโ
```

## ๐ Flujo de Datos

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                                FLUJO DE DATOS                                  โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                                        โ
                    โโโโโโโโโโโโโโโโโโโโโผโโโโโโโโโโโโโโโโโโโโ
                    โ                   โ                   โ
                    โผ                   โผ                   โผ
        โโโโโโโโโโโโโโโโโโโ  โโโโโโโโโโโโโโโโโโโ  โโโโโโโโโโโโโโโโโโโ
        โ   Entrada       โ  โ   Procesamiento โ  โ   Salida        โ
        โ   Datos         โ  โ   Datos         โ  โ   Datos         โ
        โ                 โ  โ                 โ  โ                 โ
        โ PDF Files       โ  โ Text Extraction โ  โ Lucene Index    โ
        โ (104 archivos)  โ  โ Metadata        โ  โ Search Results  โ
        โ Metadata        โ  โ Indexing        โ  โ API Responses   โ
        โโโโโโโโโโโโโโโโโโโ  โโโโโโโโโโโโโโโโโโโ  โโโโโโโโโโโโโโโโโโโ
                    โ                   โ                   โ
                    โผ                   โผ                   โผ
        โโโโโโโโโโโโโโโโโโโ  โโโโโโโโโโโโโโโโโโโ  โโโโโโโโโโโโโโโโโโโ
        โ Validaciรณn      โ  โ Transformaciรณn  โ  โ Formateo        โ
        โ Formato PDF     โ  โ Campos Lucene   โ  โ JSON Responses  โ
        โ Tamaรฑo Archivo  โ  โ Deduplicaciรณn   โ  โ Snippets        โ
        โ Integridad      โ  โ Optimizaciรณn    โ  โ Metadatos       โ
        โโโโโโโโโโโโโโโโโโโ  โโโโโโโโโโโโโโโโโโโ  โโโโโโโโโโโโโโโโโโโ
```

## ๐ Flujo de Rendimiento

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                              RENDIMIENTO DEL SISTEMA                           โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                                        โ
                    โโโโโโโโโโโโโโโโโโโโโผโโโโโโโโโโโโโโโโโโโโ
                    โ                   โ                   โ
                    โผ                   โผ                   โผ
        โโโโโโโโโโโโโโโโโโโ  โโโโโโโโโโโโโโโโโโโ  โโโโโโโโโโโโโโโโโโโ
        โ   Indexaciรณn    โ  โ   Bรบsqueda      โ  โ   Sistema       โ
        โ   Rendimiento   โ  โ   Rendimiento   โ  โ   Rendimiento   โ
        โ                 โ  โ                 โ  โ                 โ
        โ 104 docs/18s    โ  โ <100ms queries  โ  โ 200MB RAM      โ
        โ 10 docs/chunk   โ  โ Ranking auto    โ  โ Port 8081       โ
        โ ~50KB/doc       โ  โ Snippets        โ  โ Persistent idx  โ
        โโโโโโโโโโโโโโโโโโโ  โโโโโโโโโโโโโโโโโโโ  โโโโโโโโโโโโโโโโโโโ
                    โ                   โ                   โ
                    โผ                   โผ                   โผ
        โโโโโโโโโโโโโโโโโโโ  โโโโโโโโโโโโโโโโโโโ  โโโโโโโโโโโโโโโโโโโ
        โ Optimizaciรณn    โ  โ Cache Results   โ  โ Monitoring       โ
        โ Chunking        โ  โ Query Parsing   โ  โ Health Checks   โ
        โ Error Handling  โ  โ Result Paginationโ  โ Logging         โ
        โ Progress Logs   โ  โ Metadata Filter โ  โ Metrics          โ
        โโโโโโโโโโโโโโโโโโโ  โโโโโโโโโโโโโโโโโโโ  โโโโโโโโโโโโโโโโโโโ
```

## ๐ Ciclo de Vida del Sistema

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                            CICLO DE VIDA COMPLETO                              โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                                        โ
                    โโโโโโโโโโโโโโโโโโโโโผโโโโโโโโโโโโโโโโโโโโ
                    โ                   โ                   โ
                    โผ                   โผ                   โผ
        โโโโโโโโโโโโโโโโโโโ  โโโโโโโโโโโโโโโโโโโ  โโโโโโโโโโโโโโโโโโโ
        โ   Inicio        โ  โ   Operaciรณn     โ  โ   Mantenimiento โ
        โ   Sistema        โ  โ   Continua      โ  โ   Sistema       โ
        โ                 โ  โ                 โ  โ                 โ
        โ 1. Verificaciรณn โ  โ 1. Bรบsquedas    โ  โ 1. Re-indexaciรณnโ
        โ 2. Compilaciรณn  โ  โ 2. API Calls   โ  โ 2. Optimizaciรณn โ
        โ 3. Inicio App   โ  โ 3. Monitoring   โ  โ 3. Limpieza     โ
        โ 4. Pruebas     โ  โ 4. Logging      โ  โ 4. Actualizaciรณn โ
        โโโโโโโโโโโโโโโโโโโ  โโโโโโโโโโโโโโโโโโโ  โโโโโโโโโโโโโโโโโโโ
                    โ                   โ                   โ
                    โผ                   โผ                   โผ
        โโโโโโโโโโโโโโโโโโโ  โโโโโโโโโโโโโโโโโโโ  โโโโโโโโโโโโโโโโโโโ
        โ Estado: Listo   โ  โ Estado: Activo  โ  โ Estado: Mantenidoโ
        โ Puerto: Libre   โ  โ Puerto: 8081    โ  โ Puerto: 8081    โ
        โ รndice: Cargado โ  โ รndice: Activo  โ  โ รndice: Actualizadoโ
        โ API: Disponible โ  โ API: Operativa  โ  โ API: Operativa  โ
        โโโโโโโโโโโโโโโโโโโ  โโโโโโโโโโโโโโโโโโโ  โโโโโโโโโโโโโโโโโโโ
```

---

*Diagramas generados para el sistema Pipeline Normativos SII*  
*Versiรณn: 1.0*
